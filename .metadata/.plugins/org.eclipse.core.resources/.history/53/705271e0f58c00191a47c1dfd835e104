<%@page import="java.text.SimpleDateFormat"%>
<%@page import="java.sql.PreparedStatement"%>
<%@page import="java.sql.DriverManager"%>
<%@page import="java.sql.Connection"%>
<%@page import="java.sql.ResultSet" %>
<%@page import="java.sql.Date" %>

<%@page import="java.util.ArrayList" %>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%request.setCharacterEncoding("utf-8");%>
<style>
  body
  {
    background: #c166a1;
    align:center;
  }
  </style>

<%

SimpleDateFormat transFormat = new SimpleDateFormat("yyyy-MM-dd");



String name = (String)request.getParameter("name");
String tel = (String)request.getParameter("tel");
String email = (String)request.getParameter("email");
String birth = (String)request.getParameter("")

//String path = (String)request.getParameter("radio1");
//String sport = (String)request.getParameter("radio2");
//String approch = (String)request.getParameter("select");
//String privacy = (String)request.getParameter("check");

Date birth = transFormat.parse();

%>

<%
Connection conn = null;
String url = "jdbc:oracle:thin:@localhost:1521:xe";
String user = "hr";
String password = "hr";
PreparedStatement ps1 = null;
PreparedStatement ps2 = null;
ArrayList<String> array = new ArrayList<>();

try
{
  Class.forName("oracle.jdbc.driver.OracleDriver");
  conn = DriverManager.getConnection(url,user,password);
  String insert = "insert info info2 values(?,?,?,?)";
  ps1 = conn.prepareStatement(insert);
  ps1.setString(1,name);
  ps1.setDate(2,new java.sql.Date(birth));
  ps1.setString(3,tel);
  ps1.setString(4,email);

  ps1.executeUpdate(); //자료입력!!

  // ResultSet rss = ps1.executeQuery();

}
catch(Exception e)
{
  e.getStackTrace();
}
finally
{
  try
  {
    if(ps1!=null)
    {
      ps1.close();
    }
    if(conn!=null)
    {
      conn.close();
    }
  }
  catch(Exception e2)
  {
    e2.getStackTrace();
  }
}

%>
   </table>
